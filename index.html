<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Redirecting...</title>
</head>
<body>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getDatabase, ref, get, push, runTransaction } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyAk7OeIvh-D7NC_QKkQNMria4GxL5fT2ws",
  authDomain: "prime-f23e6.firebaseapp.com",
  databaseURL: "https://prime-f23e6-default-rtdb.firebaseio.com/",
  projectId: "prime-f23e6",
  storageBucket: "prime-f23e6.firebasestorage.app",
  messagingSenderId: "260013125631",
  appId: "1:260013125631:web:5f1371b9d359b68b9181ca"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

const params = new URLSearchParams(window.location.search);
const id = params.get("id");

if(!id){
  document.body.innerHTML = "Invalid Link";
  throw new Error("No ID");
}

async function track(){

  const linkSnap = await get(ref(db
